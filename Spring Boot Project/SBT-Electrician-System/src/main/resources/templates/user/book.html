<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org"
	th:replace="user/base::layout(~{::body})">
<head>
<meta charset="ISO-8859-1">
<title>Insert title here</title>

</head>
<body>
	<section>

		<div class="container p-3">

			<div class="row">
				<div class="col-md-8 offset-md-2">
					<div class="card paint-card">
						<p class="text-center text-danger fs-4">Book Electrician</p>
						<div class="card-body ">
							<div class="text-center text-danger">
								<img th:src="@{'../../elcetrician_profile/'+${e.fileName}}"
									style="width: 100px; height: 100px; border-radius: 50%; border: 1px solid black;">
								<p class="fs-4">[[${e.firstName}]]</p>

								<div th:if="${session.succMsg}" class="text-center">
									<p class="text-success fs-5" th:text="${session.succMsg}"></p>
									<th:block th:text="${#session.removeAttribute('succMsg')}"></th:block>
								</div>

								<div th:if="${session.errorMsg}" class="text-center">
									<p class="text-danger fs-5" th:text="${session.errorMsg}"></p>
									<th:block th:text="${#session.removeAttribute('errorMsg')}"></th:block>
								</div>
							</div>
							<hr>
							<div class="col-md-8 offset-md-2">

								<form th:action="@{/user/bookElectrician}" method="post">
									<div class="row">
										<div class="col">
											<label>Full Name</label> <input type="text" required
												name="customerName"
												th:value="${user.firstName+' '+user.lastName}"
												class="form-control">
										</div>

										<div class="col">
											<label>Mobile No</label> <input type="text" name="mobNo"
												required th:value="${user.mobNo}" class="form-control">
										</div>
									</div>

									<div class="row mt-2">
										<div class="col">
											<label>Email</label> <input type="text" name="email" required
												th:value="${user.email}" class="form-control">
										</div>

										<div class="col">
											<label>Date</label> <input type="date" name="date" required
												id="datepicker" class="form-control">
										</div>
									</div>
									<div class="mt-3">
										<label>Full Address</label>
										<textarea rows="3" cols="" class="form-control" name="address"
											required></textarea>
									</div>

									<input type="hidden" name="userId" th:value="${user.id}">
									<input type="hidden" name="electricianId" th:value="${e.id}">

									<button class="btn btn-danger col-md-12 mt-3">Book</button>
								</form>
							</div>


						</div>

					</div>
				</div>
			</div>
		</div>

	</section>

	



</body>
</html>